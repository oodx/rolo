ROLO TASK BREAKDOWN
===================
Story Points: Fibonacci (1, 2, 3, 5, 8, 13)
Sprint Velocity Target: 5-8 points

============================================================================
SPRINT 1-2: FOUNDATION (v0.1)
Total Points: 15
============================================================================

[3] TASK-001: Setup RSB Project with MODULE_SPEC Structure
    - Initialize Cargo project with RSB dependency
    - Create MODULE_SPEC compliant directories:
      * layout/ (mod.rs, utils.rs, helpers.rs, error.rs, macros.rs)
      * stream/ (mod.rs, utils.rs, helpers.rs, error.rs)
      * width/ (mod.rs, utils.rs, error.rs, width_boxy_adapter.rs)
      * cli/ (mod.rs, args.rs, dispatch.rs, error.rs)
      * theme/ (mod.rs, utils.rs, macros.rs)
    - Setup lib.rs with prelude exports
    - Setup main.rs for CLI entry
    - Configure rust-toolchain.toml
    Acceptance: Project structure matches MODULE_SPEC exactly

[3] TASK-002: Implement Width Module with Boxy Adapter
    - Copy width calculation logic from boxy
    - Create width_boxy_adapter.rs with feature gates
    - Implement fallback for when boxy feature is disabled
    - Add required dependencies (strip_ansi_escapes, unicode-width)
    - Create width/error.rs with typed errors
    - Write unit tests for both feature states
    Acceptance: Width calculation works with and without boxy feature

[2] TASK-003: Setup Prelude and Module Exports
    - Create prelude.rs with curated exports
    - Setup module orchestrators (mod.rs files)
    - Ensure no business logic in orchestrators
    - Export module-owned macros properly
    - Follow prelude policy (no optional features)
    Acceptance: Clean public API surface, imports work

[3] TASK-004: Implement CLI Module with RSB Patterns
    - Create cli/args.rs with RSB Args struct
    - Implement cli/dispatch.rs with dispatch! macro
    - Setup cli/error.rs for CLI errors
    - Add --help, --version, --width subcommands
    - Use validate! for error handling
    Acceptance: CLI responds to commands with proper error handling

[2] TASK-005: Stream Module Implementation ✅ COMPLETE
    - Create stream/utils.rs with buffered reading
    - Implement stream/helpers.rs for internal logic
    - Setup stream/error.rs for stream errors
    - Handle stdin/stdout properly
    - Support pipe breaks and EOF
    - Leverages RSB Stream and deps for robust Unix integration
    - Includes comprehensive error handling and pipeline builder
    Acceptance: Can pipe text through rolo
    Tests: stream_sanity.rs with 7 passing tests

[2] TASK-006: Feature Flags and Testing Setup ✅ COMPLETE
    - Configure Cargo.toml features per MODULE_SPEC
    - Create baseline tests without features
    - Add feature-gated tests for adapters
    - Setup test structure per module
    - Use utils::stderrx for non-visual logging
    - Fixed all compilation errors in both test suites
    - Created comprehensive baseline tests (26 tests passing)
    - Created feature-gated tests for width-boxy and visual features (13 tests passing)
    Acceptance: Tests pass in both default and feature modes
    Tests: baseline_main.rs (26 tests), feature_gated_main.rs (13 tests)

============================================================================
VISUAL UAT TASKS (v0.1.5 - Foundation Enhancement)
Total Points: 8
============================================================================

[2] TASK-007V: Visual Column Formatting UAT ✅ COMPLETE
    - Create visual tests showing actual column output
    - Test 1-10 column configurations with real text
    - Validate alignment and spacing across widths
    - Test edge cases: long words, empty lines, special chars
    - Generate reference output for comparison
    Acceptance: Visual column formatting demo works perfectly
    Documentation: FEATURES_VISUAL_UAT.md

[2] TASK-008V: Visual Table Formatting UAT ✅ COMPLETE
    - Create visual tests for table mode with headers
    - Test delimiter handling (tabs, spaces, custom)
    - Validate column alignment and borders
    - Test multi-line cells and overflow handling
    - Generate TSV/CSV formatting examples
    Acceptance: Table formatting produces clean aligned output
    Documentation: FEATURES_VISUAL_UAT.md

[2] TASK-009V: Visual List Formatting UAT ✅ COMPLETE
    - Create visual tests for list mode with bullets
    - Test different bullet styles and indentation
    - Validate line wrapping and continuation
    - Test nested lists and numbering
    - Generate markdown-style list examples
    Acceptance: List formatting produces readable bulleted output
    Documentation: FEATURES_VISUAL_UAT.md

[2] TASK-010V: Visual Width and Pipeline Integration UAT ✅ COMPLETE
    - Create visual tests showing width adaptation (80, 120, 160 cols)
    - Test pipeline integration: echo | rolo | visual comparison
    - Validate ANSI color preservation through pipeline
    - Test terminal width detection and override
    - Generate side-by-side before/after examples
    Acceptance: Width handling and pipeline integration work visually
    Documentation: FEATURES_VISUAL_UAT.md

============================================================================
SPRINT 3-4: CORE MODES (v0.2)
Total Points: 21
============================================================================

[5] TASK-007: Column Mode Implementation ✅ COMPLETE
    - Parse --cols N argument
    - Implement column layout algorithm
    - Handle ANSI-aware width padding
    - Add --gap option for spacing
    - Add --delim option for custom input delimiters (space, comma, semicolon, etc.)
    - Comprehensive column formatting with config support
    - ANSI-aware width calculation using boxy adapter
    - Gap spacing and width constraints implemented
    - Proper error handling for edge cases
    - Support for both newline (default) and custom delimiters
    Acceptance: echo -e "a\nb\nc\nd" | rolo --cols 2 works (produces 2 columns)
    Enhanced: echo "a,b,c,d" | rolo --cols 2 --delim "," works with comma delimiter
    Tests: 11 comprehensive column mode tests added to baseline

[5] TASK-008: Table Mode Implementation ✅ COMPLETE
    - Parse --table flag
    - Auto-detect column widths
    - Implement --delim for parsing
    - Handle row overflow
    - Comprehensive table formatting with auto-width detection
    - ANSI-aware width calculation and Unicode support
    - Row overflow handling for uneven row structures
    - Header row detection with automatic separator insertion
    - Width constraints with proportional column compression
    - Content truncation with ellipsis for overflow
    - Support for multiple delimiters (TSV, CSV, custom)
    Acceptance: cat tests/data/sample.tsv | rolo --table works ✅ VERIFIED
    Enhanced: CSV, semicolon, and custom delimiter support via --delim
    Tests: 14 comprehensive table mode tests added to baseline

[3] TASK-009: List Mode Implementation
    - Single column formatting
    - Optional line numbers
    - Alignment options (left, right, center)
    - Width constraints
    Acceptance: ls | rolo --list works

[3] TASK-010: Terminal Width Detection
    - Integrate RSB host module for $COLUMNS
    - Implement --width override
    - Add --fit mode (default)
    - Handle terminal resize
    Acceptance: Respects terminal width

[3] TASK-011: Separator Support
    - Implement --sep for input splitting
    - Add regex separator support
    - Handle multi-character separators
    - Test with various delimiters
    Acceptance: Can split on custom separators

[2] TASK-012: Mode Integration Tests
    - Create test fixtures for each mode
    - Pipeline tests with sample data
    - Edge case testing
    - Performance baseline tests
    Acceptance: All modes have test coverage

============================================================================
SPRINT 5-6: INTEGRATION (v0.3)
Total Points: 13
============================================================================

[3] TASK-013: TokenStream Support
    - Study RSB tokens module
    - Implement TokenStream parser
    - Add --tokens input mode
    - Create token to table/column converter
    Acceptance: Can process RSB TokenStreams

[5] TASK-014: Pipeline Integration Tests
    - Create jynx → rolo tests
    - Create rolo → boxy tests
    - Full pipeline jynx → rolo → boxy tests
    - Document common patterns
    Acceptance: Works in ecosystem pipelines

[2] TASK-015: Performance Benchmarking
    - Setup criterion benchmarks
    - Benchmark each mode
    - Profile memory usage
    - Identify bottlenecks
    Acceptance: Baseline metrics established

[3] TASK-016: Documentation Sprint
    - Write comprehensive README
    - Create examples/ directory
    - Document each mode with examples
    - Add architecture.md
    Acceptance: New users can understand rolo

============================================================================
SPRINT 7-8: POLISH (v0.4)
Total Points: 13
============================================================================

[3] TASK-017: Advanced Alignment Options
    - Per-column alignment (--align L,C,R)
    - Padding control (--pad)
    - Header row support (--headers)
    - Footer row support
    Acceptance: Fine-grained layout control

[3] TASK-018: Border Styles
    - Implement --border none|ascii|unicode
    - Line drawing characters
    - Corner handling
    - Color support for borders
    Acceptance: Tables can have borders

[2] TASK-019: Truncation Policies
    - Implement --truncate with ellipsis
    - Add --wrap for line wrapping
    - Smart truncation (word boundaries)
    - Per-column truncation
    Acceptance: Long content handled gracefully

[3] TASK-020: Error Handling Enhancement
    - Improve error messages
    - Add --verbose debugging
    - Handle malformed input gracefully
    - Recovery strategies
    Acceptance: Clear, helpful error messages

[2] TASK-021: Test Coverage Push
    - Achieve 80% code coverage
    - Add property-based tests
    - Fuzz testing for parsers
    - Integration test expansion
    Acceptance: Robust test suite

============================================================================
SPRINT 9-10: PLUGINS (v0.5)
Total Points: 21
============================================================================

[5] TASK-022: Plugin Architecture
    - Design RoloPlugin trait
    - Implement plugin registry
    - Create plugin lifecycle hooks
    - Configuration loading system
    Acceptance: Plugin system functional

[3] TASK-023: CSV Plugin
    - CSV parsing with configurable options
    - Header detection
    - Quote handling
    - Type inference
    Acceptance: CSV files render as tables

[3] TASK-024: JSON Plugin
    - JSON parsing and flattening
    - Nested object handling
    - Array formatting
    - Pretty printing options
    Acceptance: JSON data displays structured

[3] TASK-025: Markdown Plugin
    - Generate markdown tables
    - GitHub-flavored markdown
    - Alignment syntax
    - Escape special characters
    Acceptance: Output valid markdown tables

[5] TASK-026: Configuration System
    - Parse ~/.config/rolo/config.toml
    - Environment variable overrides
    - Default configurations
    - Config validation
    Acceptance: Configuration affects behavior

[2] TASK-027: Plugin Documentation
    - Plugin development guide
    - Example plugin implementation
    - API documentation
    - Testing guidelines
    Acceptance: Others can write plugins

============================================================================
SPRINT 11-12: PRODUCTION (v1.0)
Total Points: 8
============================================================================

[3] TASK-028: Performance Optimization
    - Zero-copy where possible
    - Optimize hot paths
    - Reduce allocations
    - Parallel processing exploration
    Acceptance: Handles 10k+ lines/sec

[2] TASK-029: Release Preparation
    - Cargo.toml metadata
    - License selection
    - CHANGELOG.md
    - Security policy
    Acceptance: Ready for crates.io

[1] TASK-030: CI/CD Enhancement
    - Release automation
    - Binary builds for platforms
    - Documentation generation
    - Badge setup
    Acceptance: Automated releases work

[2] TASK-031: Paintbox Integration
    - Coordinate with paintbox project
    - Shared component extraction
    - Version synchronization
    - Integration testing
    Acceptance: Works with paintbox

============================================================================
BACKLOG (Future Sprints)
============================================================================

[8] Advanced Unix Features
    - pr: pagination, headers, footers
    - paste: file merging, serial mode
    - col: reverse line feeds, tab expansion

[5] Theme System
    - Shareable themes with jynx/boxy
    - Theme inheritance
    - Custom color schemes

[8] Interactive Mode
    - TUI for configuration
    - Live preview
    - Interactive column sizing

[13] Network Features
    - HTTP/HTTPS input sources
    - Streaming from URLs
    - WebSocket support

[5] DSL for Layouts
    - Custom layout language
    - Template system
    - Reusable layout definitions

============================================================================
NOTES
-----
- Tasks can be re-estimated after sprint planning
- Dependencies between tasks should be considered
- Some tasks can be done in parallel
- Prefer shipping working features over perfect code